<div class="deviceStatusRow">
    <div class="deviceStatusColumn">
        <h2>Active devices</h2>
        <div class="active">
            {{active}} / {{activePercent}}%
        </div>
    </div>
    <div class="deviceStatusColumn">
        <h2>Idle devices</h2>
        <div class="idle">
            {{idle}} / {{idlePercent}}%
        </div>
    </div>
    <div class="deviceStatusColumn">
        <h2>Deactivated devices</h2>
        <div class="deactivated">
            {{deactivated}} / {{deactivatedPercent}}%
        </div>
    </div>
    <div class="deviceStatusColumn">
        <h2>Devices with error</h2>
        <div class="error">
            {{error}} / {{errorPercent}}%
        </div>
    </div>
    <div class="deviceStatusColumn">
        <h2>Total devices</h2>
        <div class="total">
            {{total}}
        </div>
    </div>
</div>

<div class="field">
    <label for="device">Device:</label>
    <mat-form-field appearance="fill">
        <input type="text" matInput placeholder="Serial number" [formControl]="deviceControl"
            [matAutocomplete]="auto" />
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayDevice"
            (optionSelected)="onDeviceSelected($event)">
            @for (d of filteredDevices | async; track d.id) {
            <mat-option [value]="d">
                {{ d.serialNumber }}
            </mat-option>
            }
        </mat-autocomplete>
    </mat-form-field>
</div>

<!-- Temperature Stats -->
<div *ngIf="showTemperature">
  <h3>Temperature Statistics</h3>
  <p>Max: {{ temperatureData?.max }}</p>
  <p>Min: {{ temperatureData?.min }}</p>
  <p>Avg: {{ temperatureData?.avg }}</p>
</div>

<!-- Humidity Stats -->
<div *ngIf="showHumidity">
  <h3>Humidity Statistics</h3>
  <p>Max: {{ humidityData?.max }}</p>
  <p>Min: {{ humidityData?.min }}</p>
  <p>Avg: {{ humidityData?.avg }}</p>
</div>

<!-- SmartBin Stats -->
<div *ngIf="showSmartBin">
  <h3>Smart Bin Statistics</h3>
  <p>Capacity: {{ smartBinData?.percentageFull }}%</p>
</div>